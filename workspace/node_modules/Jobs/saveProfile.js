const assert = require('assert'); 
    
function saveProfile(db,post, callback)
{
    console.log(db);
    var finder={};
    if(post=='undefined'){
        db.close();
        return callback("done");
    }
    if(post['profile']=='undefined'){
        db.close();
        return callback("done");
    }
    finder['profile']=post['profile']['profile'];
    db.collection('profile').update(finder, post['profile'], { upsert: true });
    
    
    /*db.collection('user').save({"hei":"moi"}, {
        w: 1
    }, function(err, result) {
         assert.equal(err,null);
        db.close();
    });*/
    /*
    db.collection('user').save(post["user"], {
        w: 1
    }, function(err, result) {
         assert.equal(err,null);
        db.close();
    });*/
    db.close();
    return callback("done");
                    
    
                
}
module.exports= saveProfile