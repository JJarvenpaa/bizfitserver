//By jarij 
//last time modificated: 7.3.17
const assert = require("assert");
function loadProfile(db, post,callback) 
{
        var object;
        var finder={};
        finder['profile']=post['profile'];
        db.collection('profile').findOne(finder, function(err, profile)
        {
            assert.equal(err, null);
            if (profile != null) 
            {
                object = JSON.stringify(profile);
                db.close();
                 
                if(typeof object != 'undefined')
                {
                    return callback(object);
                }
                else
                {
                    return callback("profile not found");
                }
                
                
               
            }else
            {
                db.close();
                return callback("profile not found");
            }
    
    
        });
      
}

module.exports= loadProfile;